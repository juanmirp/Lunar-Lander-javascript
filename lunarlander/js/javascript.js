function start(){timer=setInterval(function(){moverNave()},1e3*dt)}function stop(){clearInterval(timer)}function moverNave(){v+=a*dt,document.getElementsByClassName("vel1")[0].innerHTML=v.toFixed(2),y-=v*dt,document.getElementsByClassName("altura1")[0].innerHTML=(y-35).toFixed(2),y>30?document.getElementsByClassName("nave")[0].style.top=100-y+"%":(document.getElementsByClassName("vel1")[0].innerHTML=v.toFixed(2),stop(),v>6?(perder(),v=0,y=0,document.getElementsByClassName("vel1")[0].innerHTML=v,document.getElementsByClassName("altura1")[0].innerHTML=y):(ganar(),v=0,y=0,document.getElementsByClassName("vel1")[0].innerHTML=v,document.getElementsByClassName("altura1")[0].innerHTML=y))}function motorOn(){y>1&&(a=-g,naveFuego(),null==timerFuel&&(timerFuel=setInterval(function(){actualizarFuel()},10)))}function motorOff(){gameOver||(a=g,clearInterval(timerFuel),timerFuel=null,naveNormal())}function actualizarFuel(){gameOver||(fuel>0?(fuel-=.1,document.getElementById("progressBar").value=fuel):motorOff())}function mostrarPausa(){document.getElementsByClassName("pausamenu")[0].style.display="block"}function QuitarPausa(){document.getElementsByClassName("pausamenu")[0].style.display="none"}function mostrarHelp(){document.getElementsByClassName("helpmenu")[0].style.display="block"}function ocultarHelp(){document.getElementsByClassName("helpmenu")[0].style.display="none"}function naveNormal(){document.getElementById("imagenNave").src="img/ship.png"}function naveFuego(){document.getElementById("imagenNave").src="img/shipfire1.png"}function explotar(){document.getElementById("imagenNave").src="img/boom.jpg"}function RellenarBarra(){document.getElementById("progressBar").value=100}function perder(){explotar(),gameOver=!0,document.getElementsByClassName("fin")[0].style.display="block",document.getElementsByClassName("fintexto")[0].innerHTML="Has perdido!!"}function ganar(){gameOver=!0,document.getElementsByClassName("fin")[0].style.display="block",document.getElementsByClassName("fintexto")[0].innerHTML="Has ganado!!"}function mostrarElementoPlay(){document.getElementsByClassName("play")[0].style.display="block"}function mostrarElementoReplay(){document.getElementsByClassName("replay")[0].style.display="block"}function mostrarElementoHelp(){document.getElementsByClassName("help")[0].style.display="block"}function ocultarElementoPlay(){document.getElementsByClassName("play")[0].style.display="none"}function ocultarElementoReplay(){document.getElementsByClassName("replay")[0].style.display="none"}function ocultarElementoHelp(){document.getElementsByClassName("help")[0].style.display="none"}var y=80,v=0,g=1.622,a=g,dt=.016683,timer=null,timerFuel=null,fuel=100,pause=!1,gameOver=!1,pausemovil=!1;window.onload=function(){document.onmousedown=function(){a!=g||pause?motorOff():motorOn()},document.onmouseup=motorOff,document.getElementsByClassName("pausa")[0].onclick=function(){mostrarPausa(),ocultarHelp(),stop(),pause=!0,naveNormal()},document.getElementsByClassName("play")[0].onclick=function(){QuitarPausa(),ocultarHelp(),pause&&(start(),pause=!1),pausemovil&&(ocultarElementoPlay(),ocultarElementoReplay(),ocultarElementoHelp(),start(),pausemovil=!1)},document.getElementsByClassName("replay")[0].onclick=function(){y=80,v=0,a=g,fuel=100,pause=!1,gameOver=!1,RellenarBarra(),QuitarPausa(),ocultarHelp(),stop(),motorOff(),start(),document.getElementsByClassName("fin")[0].style.display="none"},document.getElementsByClassName("help")[0].onclick=function(){mostrarHelp(),QuitarPausa(),pause=!0,stop(),document.getElementsByClassName("fin")[0].style.display="none"},document.getElementsByClassName("herramientas")[0].onclick=function(){stop(),pausemovil=!0,mostrarElementoPlay(),mostrarElementoReplay(),mostrarElementoHelp()},document.onkeydown=motorOn,document.onkeyup=motorOff,start()};
